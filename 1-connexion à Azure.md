#### Connexion à AZURE 

``url: https://portal.azure.com/``

``Email: training-user-15@soatformation.onmicrosoft.com``

``Password: 17@17lenaic``

#### Installation du module AZ et Authentification dans powershell (ouvrez powershell en tant que Administrateur)


``Get-Module -ListAvailable Az``

``Install-Module -Name Az -AllowClobber -Force -Confirm:$false``


``Update-Module -Name Az``


``Import-Module Az``



``Connect-AzAccount -UseDeviceAuthentication``


#### Notre premiere commande pour voir les regions ou sont disponible le service vitualMachines
``az login``

``az provider list --output table``

``az provider show --namespace Microsoft.Compute --query "resourceTypes[].resourceType" --output table``


``$resources = Get-AzResourceProvider -ProviderNamespace Microsoft.Compute``

``$resources.ResourceTypes.Where({$_.ResourceTypeName -eq 'virtualMachines'}).Locations``

``az provider show --namespace Microsoft.Compute --output json``


### * astuce pour connaître le contexte des ressources lister avez d'utiliser des commande Tapez le nom du service avec cette commande

az find "availabilitySets"

````
az find "disks"

PS C:\Users\ASUS STRIX> az find "disks"
Finding examples...

Here are the most common ways to use [disks]:

encrypt a VM using a key vault in the same resource group (autogenerated)
az vm encryption enable --disk-encryption-keyvault MyVault --name MyVm --resource-group MyResourceGroup

More commands and examples are available in the latest version of the CLI. Please update for the best experience.
````

je cible une partie de l'argument pour chercher

````
PS C:\Users\ASUS STRIX> az disk --help

Group
    az disk : Manage Azure Managed Disks.
        Azure Virtual Machines use disks as a place to store an operating system, applications, and
        data. All Azure virtual machines have at least two disks: An operating system disk, and a
        temporary disk. The operating system disk is created from an image, and both the operating
        system disk and the image are actually virtual hard disks (VHDs) stored in an Azure storage
        account. Virtual machines also can have one or more data disks, that are also stored as
        VHDs.
        Azure Unmanaged Data Disks have a maximum size of 4095 GB. To use didks larger than 4095 GB
        use [Azure Managed Disks](https://docs.microsoft.com/azure/virtual-machines/managed-disks-
        overview).

Commands:
    create        : Create a managed disk.
    delete        : Delete a managed disk.
    grant-access  : Grant a resource access to a managed disk.
    list          : List managed disks.
    revoke-access : Revoke a resource's read access to a managed disk.
    show          : Gets information about a disk.
    update        : Update a managed disk.
    wait          : Place the CLI in a waiting state until a condition of a managed disk is met.

To search AI knowledge base for examples, use: az find "az disk"

````

````
PS C:\Users\ASUS STRIX> az find "az disk"
Finding examples...

Here are the most common ways to use [az disk]:

Delete a managed disk. (autogenerated)
az disk delete --name MyManagedDisk --resource-group MyResourceGroup --yes

More commands and examples are available in the latest version of the CLI. Please update for the best experience.

PS C:\Users\ASUS STRIX>
````

````
PS C:\Users\ASUS STRIX> az disk --help

Group
    az disk : Manage Azure Managed Disks.
        Azure Virtual Machines use disks as a place to store an operating system, applications, and
        data. All Azure virtual machines have at least two disks: An operating system disk, and a
        temporary disk. The operating system disk is created from an image, and both the operating
        system disk and the image are actually virtual hard disks (VHDs) stored in an Azure storage
        account. Virtual machines also can have one or more data disks, that are also stored as
        VHDs.
        Azure Unmanaged Data Disks have a maximum size of 4095 GB. To use didks larger than 4095 GB
        use [Azure Managed Disks](https://docs.microsoft.com/azure/virtual-machines/managed-disks-
        overview).

Commands:
    create        : Create a managed disk.
    delete        : Delete a managed disk.
    grant-access  : Grant a resource access to a managed disk.
    list          : List managed disks.
    revoke-access : Revoke a resource's read access to a managed disk.
    show          : Gets information about a disk.
    update        : Update a managed disk.
    wait          : Place the CLI in a waiting state until a condition of a managed disk is met.

To search AI knowledge base for examples, use: az find "az disk"

````

https://learn.microsoft.com/en-us/cli/azure/reference-index?view=azure-cli-latest
